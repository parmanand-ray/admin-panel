<div class="container-fluid py-4">
  <h3 class="text-center fw-bold mb-5 text-primary">ðŸ“Š Admin Dashboard</h3>

  <!-- ===================== SUMMARY CARDS ===================== -->
  <div class="row g-4">
    <div class="col-md-3 col-sm-6">
      <div class="dashboard-card gradient-primary">
        <div class="icon-wrapper text-primary bg-light">
          <i class="fa fa-list"></i>
        </div>
        <div>
          <h6>Total Categories</h6>
          <h2><%= totalCategories %></h2>
          <p>Active: <%= activeCategories %> | Inactive: <%= inactiveCategories %></p>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="dashboard-card gradient-success">
        <div class="icon-wrapper text-success bg-light">
          <i class="fa fa-cube"></i>
        </div>
        <div>
          <h6>Total Products</h6>
          <h2><%= totalProducts %></h2>
          <p>Active: <%= activeProducts %> | Inactive: <%= inactiveProducts %></p>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="dashboard-card gradient-info">
        <div class="icon-wrapper text-info bg-light">
          <i class="fa fa-image"></i>
        </div>
        <div>
          <h6>Product Images</h6>
          <h2><%= imageCount %></h2>
          <p>Total Uploaded</p>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="dashboard-card gradient-warning">
        <div class="icon-wrapper text-warning bg-light">
          <i class="fa fa-chart-line"></i>
        </div>
        <div>
          <h6>Analytics</h6>
          <h2>Coming Soon</h2>
          <p>Traffic / Users / Orders</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== CHART SECTION ===================== -->
  <div class="row g-4 mt-5">
    <div class="col-lg-8">
      <div class="card shadow-sm border-0 p-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h5 class="fw-bold text-secondary">Monthly Product Uploads</h5>
          <small class="text-muted">Last 6 Months</small>
        </div>
        <canvas id="lineChart" height="100"></canvas>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="card shadow-sm border-0 p-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h5 class="fw-bold text-secondary">Product Status</h5>
          <small class="text-muted">Active vs Inactive</small>
        </div>
        <canvas id="pieChart" height="200"></canvas>
      </div>
    </div>
  </div>

  <!-- ===================== PROGRESS CARDS ===================== -->
  <div class="row g-4 mt-4">
    <div class="col-md-6">
      <div class="card border-0 shadow-sm p-4">
        <h6 class="fw-semibold mb-2">Database Growth</h6>
        <div class="progress mb-2" style="height: 8px;">
          <div class="progress-bar bg-primary" role="progressbar" style="width: 70%;"></div>
        </div>
        <small class="text-muted">70% of storage used this month</small>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card border-0 shadow-sm p-4">
        <h6 class="fw-semibold mb-2">Active Category Ratio</h6>
        <div class="progress mb-2" style="height: 8px;">
          <div class="progress-bar bg-success" role="progressbar" style="width: 85%;"></div>
        </div>
        <small class="text-muted">85% categories are active</small>
      </div>
    </div>
  </div>
</div>

<!-- ===================== SCRIPTS ===================== -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Line Chart
  const ctxLine = document.getElementById('lineChart');
  new Chart(ctxLine, {
    type: 'line',
    data: {
      labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
      datasets: [{
        label: 'Products Added',
        data: [10, 25, 18, 30, 45, 35],
        borderColor: '#007bff',
        backgroundColor: 'rgba(0,123,255,0.2)',
        fill: true,
        tension: 0.4,
      }]
    },
    options: {
      responsive: true,
      plugins: { legend: { display: false } },
      scales: { y: { beginAtZero: true } }
    }
  });

  // Pie Chart
  const ctxPie = document.getElementById('pieChart');
  new Chart(ctxPie, {
    type: 'doughnut',
    data: {
      labels: ['Active', 'Inactive'],
      datasets: [{
        data: [<%= activeProducts %>, <%= inactiveProducts %>],
        backgroundColor: ['#28a745', '#dc3545'],
      }]
    },
    options: {
      plugins: { legend: { position: 'bottom' } }
    }
  });
</script>

<!-- ===================== STYLES ===================== -->
<style>
  /* --- DASHBOARD CARDS --- */
  .dashboard-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: #fff;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    position: relative;
    overflow: hidden;
  }

  .dashboard-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
  }

  .dashboard-card h6 {
    font-size: 0.9rem;
    text-transform: uppercase;
    font-weight: 600;
    color: #555;
  }

  .dashboard-card h2 {
    font-weight: 700;
    font-size: 1.8rem;
  }

  .dashboard-card p {
    font-size: 0.85rem;
    color: #777;
    margin-bottom: 0;
  }

  /* --- GRADIENT BORDERS --- */
  .dashboard-card::before {
    content: "";
    position: absolute;
    top: 0; left: 0;
    width: 6px;
    height: 100%;
    opacity: 0.8;
  }

  .gradient-primary::before { background: linear-gradient(180deg, #007bff, #0056b3); }
  .gradient-success::before { background: linear-gradient(180deg, #28a745, #1e7e34); }
  .gradient-info::before    { background: linear-gradient(180deg, #17a2b8, #117a8b); }
  .gradient-warning::before { background: linear-gradient(180deg, #ffc107, #d39e00); }

  /* --- ICONS --- */
  .icon-wrapper {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    border-radius: 10px;
  }
</style>
